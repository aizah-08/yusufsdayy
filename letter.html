<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>For You ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Playfair+Display&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:#f7efe6;
  font-family:'Patrick Hand', cursive;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

/* GAME */
.game{
  width:90vw;
  max-width:400px;
  height:500px;
  background:#fff3f7;
  border-radius:25px;
  box-shadow:0 10px 25px rgba(0,0,0,.15);
  position:relative;
  overflow:hidden;
  text-align:center;
  padding-top:10px;
}

.instruction{
  font-size:20px;
  padding:5px 15px;
}

.score,.timer{
  font-size:22px;
}

/* Heart hit area */
.heart{
  position:absolute;
  top:-40px;
  font-size:28px;
  cursor:pointer;
  animation:fall linear;
  user-select:none;
  z-index:1000;
  display:flex;
  justify-content:center;
  align-items:center;
}

.heart .hitbox{
  width:60px;  /* bigger than emoji */
  height:60px;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* Trick: make both good and bad emojis same color */
.heart .good, .heart .bad{
  color:#f48fb1;  /* same pink color */
}

/* other emojis lighter shades */
.heart .neutral{
  color:#ffb6c1; /* lighter pink for distraction */
}

@keyframes fall{
  to{top:100%;}
}

/* CONFETTI */
.confetti{
  position:fixed;
  top:-10px;
  font-size:20px;
  animation:fallConfetti linear forwards;
}
@keyframes fallConfetti{
  to{transform:translateY(110vh) rotate(360deg);}
}

/* REPLAY BUTTON */
.replay{
  display:none;
  position:absolute;
  bottom:60px;
  left:50%;
  transform:translateX(-50%);
  padding:10px 22px;
  border:none;
  border-radius:20px;
  background:#f4a6c8;
  font-size:20px;
  cursor:pointer;
}

/* ENVELOPE */
.envelope-wrap{
  position:relative;
  width:90vw;
  max-width:420px;
  height:260px;
  cursor:pointer;
  display:none;
}

.envelope{
  position:absolute;
  width:100%;
  height:100%;
  background:#f4c6d7;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 15px 30px rgba(0,0,0,.2);
}

.flap{
  position:absolute;
  width:100%;
  height:100%;
  background:#f1a6c8;
  clip-path:polygon(0 0,100% 0,50% 55%);
  transform-origin:top;
  transition:1s;
}

.body{
  position:absolute;
  width:100%;
  height:100%;
  background:#f4c6d7;
}

/* LETTER */
.letter{
  position:absolute;
  width:100%;
  background:#fffdf8;
  padding:40px 20px;
  top:30px;
  transform:translateY(130px) rotate(-1.5deg);
  opacity:0;
  transition:1.6s ease;
  box-shadow:
    inset 0 0 20px rgba(120,70,30,.15),
    0 12px 25px rgba(0,0,0,.25);

  clip-path:polygon(
    0% 1%, 4% 0%, 96% 1%, 100% 4%,
    98% 98%, 94% 100%, 3% 99%, 1% 96%
  );

  background:
    radial-gradient(circle at 20% 30%, rgba(243,166,200,.25), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(243,166,200,.2), transparent 45%),
    #fffdf8;
}

/* tape */
.letter::before,.letter::after{
  content:"";
  position:absolute;
  top:-10px;
  width:80px;
  height:20px;
  background:#f5e7c6;
  opacity:.8;
}
.letter::before{left:40px;transform:rotate(-6deg);}
.letter::after{right:40px;transform:rotate(6deg);}

.message{
  text-align:center;
  line-height:1.7;
  font-size:20px;
  color:#333;
}

/* animation */
.open .flap{transform:rotateX(180deg);}
.open .letter{transform:translateY(-180px) rotate(-1.5deg);opacity:1;}
.open .envelope{opacity:0;transition:opacity 1s ease 1.3s;}

.title{
  font-family:'Playfair Display', serif;
  text-align:center;
  font-size:24px;
  margin-bottom:12px;
}
</style>
</head>

<body>

<!-- GAME -->
<div class="game" id="game">
  <div class="instruction">
    üíå Challenge time babyy!!<br>
    üíã = +1 | üí£ = -1<br>
    Other emojis = 0<br>
    Collect enough points to unlock my letter üíå
  </div>
  <div class="timer">Time: <span id="time"></span>s</div>
  <div class="score">Score: <span id="score">0</span>/<span id="targetScore"></span></div>

  <button class="replay" id="replayBtn" onclick="restartGame()">Replay Game üíå</button>
</div>

<!-- ENVELOPE -->
<div class="envelope-wrap" id="env">
  <div class="envelope">
    <div class="flap"></div>
    <div class="body"></div>
  </div>

  <div class="letter">
    <div class="title">happiest birthday baby ü§ç</div>

    <div class="message">
      Happiest birthday to the boy that stole my heart!!  
      I honestly don't know how to start this üò≠  
      everything is better with you. everything has been better since you.  
      <br><br>
      you are literally the first person I think about when i wake up!  
      you are my favourite feeling, my safest place and my happiest thought.  
      <br><br>
      You make me feel so safe!! Ik for a fact i can do weird things and u won't judge me a bit,
      you're a safe space for me! I love everything about you.  
      <br><br>
      you are really special to me yusuf! you make me the happiest u silly boyy!!  
      all the moments i have spent with you are nothing but special.  
      <br><br>
      lowkey proud i gotta cool, hot, handsome, sexy, smart sa banda!!  
      mera bas chale toh mei apko roz celebrate baby, you are that special to me.  
      <br><br>
      i want to see u touch skkies and i wanna be there for it all.  
      I'll be there with you through thick and thin.  
      I promise to be by your side always and forever ‚ù§Ô∏è  
      I'll forever be kaleshi with u hehe  
      <br><br>
      YUSUF I LOVE YOU MORE THAN YOU KNOW ü§ç  
      uk baby i would wish the best for u but already have me ü§™  
      i wish i was physically there with u hugging and kissing u!!  
      i miss u booo!!
    </div>
  </div>
</div>

<script>
let score = 0, gameInterval, timerInterval;
const game = document.getElementById("game");
const replayBtn = document.getElementById("replayBtn");
const emojis = ["üòé","üéà","üç≠","üå∏","ü¶ã","üåü"];
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

// Set target score and time based on device
const targetScore = isMobile ? 15 : 7;
const totalTime = isMobile ? 30 : 20;
document.getElementById("targetScore").innerText = targetScore;
document.getElementById("time").innerText = totalTime;
let time = totalTime;

function spawnHeart(){
  const h = document.createElement("div");
  h.className = "heart";

  const rand = Math.random();
  if(rand > 0.6){ 
    h.innerHTML = '<div class="hitbox good">üíã</div>'; 
    h.dataset.good = "true";
  } else if(rand > 0.3){ 
    h.innerHTML = '<div class="hitbox bad">üí£</div>'; 
    h.dataset.good = "false";
  } else { 
    h.innerHTML = `<div class="hitbox neutral">${emojis[Math.floor(Math.random()*emojis.length)]}</div>`; 
    h.dataset.good = "none";
  }

  h.style.left = Math.random()*85 + "%";

  // animation speed
  if(isMobile){
    h.style.animationDuration = (1.3 + Math.random()*1.2) + "s";
  } else {
    h.style.animationDuration = (2.0 + Math.random()*1.5) + "s";
  }

  game.appendChild(h);

  // Pointer event: mobile = down, desktop = up
  if(isMobile){
    h.addEventListener("pointerdown", handleClick);
  } else {
    h.addEventListener("pointerup", handleClick);
  }

  function handleClick(e){
    e.preventDefault();
    if(h.dataset.good === "true") score++;
    else if(h.dataset.good === "false") score--;
    if(score < 0) score = 0;
    document.getElementById("score").innerText = score;
    h.remove();
    if(score >= targetScore) win();
  }

  h.addEventListener("animationend", () => h.remove());
}

function startGame(){
  gameInterval = setInterval(spawnHeart, 600); 
  timerInterval = setInterval(() => {
    time--;
    document.getElementById("time").innerText = time;
    if(time <= 0){
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      game.innerHTML = `
        <div class="instruction">Aw bby, try again üò≠</div>
        <button class="replay" onclick="restartGame()" style="display:block; margin:20px auto;">Replay üíå</button>
      `;
    }
  }, 1000);
}

function win(){
  clearInterval(gameInterval);
  clearInterval(timerInterval);
  confetti();
  replayBtn.style.display = "inline-block";
  setTimeout(()=>{
    game.style.display="none";
    document.getElementById("env").style.display="block";
  },1500);
}

function restartGame(){
  location.reload();
}

// Confetti for 3s only
function confetti(){
  const confettiCount = 40;
  for(let i=0;i<confettiCount;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.innerText = "üéâ";
    c.style.left = Math.random()*100+"vw";
    c.style.animationDuration = (1.5 + Math.random()*1.5)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}

startGame();

document.getElementById("env").addEventListener("click", ()=>{
  document.getElementById("env").classList.add("open");
});
</script>

</body>
</html>

